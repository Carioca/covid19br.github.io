<html>
  <head>
<style type="text/css">
.inline {
  background-color: #f7f7f7;
  border:solid 1px #B0B0B0;
}
.error {
	font-weight: bold;
	color: #FF0000;
}
.warning {
	font-weight: bold;
}
.message {
	font-style: italic;
}
.source, .output, .warning, .error, .message {
	padding: 0 1em;
  border:solid 1px #F7F7F7;
}
.source {
  background-color: #f5f5f5;
}
.left {
  text-align: left;
}
.right {
  text-align: right;
}
.center {
  text-align: center;
}
.hl.num {
  color: #AF0F91;
}
.hl.str {
  color: #317ECC;
}
.hl.com {
  color: #AD95AF;
  font-style: italic;
}
.hl.opt {
  color: #000000;
}
.hl.std {
  color: #585858;
}
.hl.kwa {
  color: #295F94;
  font-weight: bold;
}
.hl.kwb {
  color: #B05A65;
}
.hl.kwc {
  color: #55aa55;
}
.hl.kwd {
  color: #BC5A65;
  font-weight: bold;
}
</style>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<div class="chunk" id="unnamed-chunk-1"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">library</span><span class="hl std">(ggplot2)</span>
<span class="hl kwd">library</span><span class="hl std">(plotly)</span>
</pre></div>
<div class="message"><pre class="knitr r">## 
## Attaching package: 'plotly'
</pre></div>
<div class="message"><pre class="knitr r">## The following object is masked from 'package:ggplot2':
## 
##     last_plot
</pre></div>
<div class="message"><pre class="knitr r">## The following object is masked from 'package:stats':
## 
##     filter
</pre></div>
<div class="message"><pre class="knitr r">## The following object is masked from 'package:graphics':
## 
##     layout
</pre></div>
</div></div>
  </head>
  
  <body>
<div class="chunk" id="unnamed-chunk-2"><div class="rcode"><div class="source"><pre class="knitr r">  <span class="hl com"># Create Dummy Data</span>
  <span class="hl std">x</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">seq.Date</span><span class="hl std">(</span><span class="hl kwc">from</span> <span class="hl std">=</span> <span class="hl kwd">as.Date</span><span class="hl std">(</span><span class="hl str">&quot;2014-05-01&quot;</span><span class="hl std">),</span> <span class="hl kwc">to</span> <span class="hl std">=</span> <span class="hl kwd">as.Date</span><span class="hl std">(</span><span class="hl str">&quot;2014-05-20&quot;</span><span class="hl std">),</span> <span class="hl kwc">by</span> <span class="hl std">=</span> <span class="hl str">&quot;day&quot;</span><span class="hl std">)</span>
  <span class="hl std">x</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">as.character</span><span class="hl std">(</span><span class="hl kwd">as.Date</span><span class="hl std">(x,</span> <span class="hl kwc">format</span> <span class="hl std">=</span> <span class="hl str">&quot;%Y%m%d&quot;</span><span class="hl std">),</span> <span class="hl str">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="hl std">)</span>
  <span class="hl std">y1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">15000</span><span class="hl std">,</span> <span class="hl num">20000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">22000</span><span class="hl std">,</span> <span class="hl num">30000</span><span class="hl std">,</span> <span class="hl num">32000</span><span class="hl std">,</span> <span class="hl num">29000</span><span class="hl std">,</span> <span class="hl num">30000</span><span class="hl std">,</span> <span class="hl num">26000</span><span class="hl std">,</span> <span class="hl num">29000</span><span class="hl std">,</span>
  <span class="hl num">15000</span><span class="hl std">,</span> <span class="hl num">20000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">22000</span><span class="hl std">,</span> <span class="hl num">30000</span><span class="hl std">,</span> <span class="hl num">32000</span><span class="hl std">,</span> <span class="hl num">29000</span><span class="hl std">,</span> <span class="hl num">30000</span><span class="hl std">,</span> <span class="hl num">26000</span><span class="hl std">,</span> <span class="hl num">29000</span><span class="hl std">)</span>
  <span class="hl std">y2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span>
  <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">,</span> <span class="hl num">25000</span><span class="hl std">)</span>

    <span class="hl com"># Build Data Frame</span>
  <span class="hl std">df</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">data.frame</span><span class="hl std">(x, y1, y2)</span>
  <span class="hl std">df</span><span class="hl opt">$</span><span class="hl std">day</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">seq</span><span class="hl std">(</span><span class="hl kwc">from</span> <span class="hl std">=</span> <span class="hl num">1</span><span class="hl std">,</span> <span class="hl kwc">to</span> <span class="hl std">=</span> <span class="hl num">20</span><span class="hl std">,</span> <span class="hl kwc">by</span> <span class="hl std">=</span> <span class="hl num">1</span><span class="hl std">)</span>
  <span class="hl kwd">colnames</span><span class="hl std">(df)</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;date&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;revenue&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;target&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;day&quot;</span><span class="hl std">)</span>

  <span class="hl com"># Melt Data</span>
  <span class="hl kwd">library</span><span class="hl std">(reshape2)</span>
  <span class="hl std">df</span><span class="hl opt">$</span><span class="hl std">date</span> <span class="hl kwb">&lt;-</span> <span class="hl kwa">NULL</span>
  <span class="hl std">df.l</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">melt</span><span class="hl std">(df,</span> <span class="hl kwc">id.vars</span> <span class="hl std">=</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;day&quot;</span><span class="hl std">))</span>
  <span class="hl kwd">colnames</span><span class="hl std">(df.l)</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;day&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;segment&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;revenue&quot;</span><span class="hl std">)</span>

  <span class="hl com"># Load ggplot2 package</span>
  <span class="hl kwd">library</span><span class="hl std">(ggplot2)</span>

  <span class="hl com"># Build Plot</span>
  <span class="hl std">plot</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">ggplot</span><span class="hl std">(df.l,</span> <span class="hl kwd">aes</span><span class="hl std">(day, revenue,</span> <span class="hl kwc">group</span> <span class="hl std">= segment,</span> <span class="hl kwc">color</span> <span class="hl std">= segment))</span> <span class="hl opt">+</span>
      <span class="hl kwd">geom_line</span><span class="hl std">()</span>

  <span class="hl com"># Show Plot</span>
  <span class="hl std">plot</span>
</pre></div>
</div><div class="rimage default"><img src="figure/unnamed-chunk-2-1.png" title="plot of chunk unnamed-chunk-2" alt="plot of chunk unnamed-chunk-2" class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r"> <span class="hl kwd">ggplotly</span><span class="hl std">(plot)</span>
</pre></div>
<div class="output"><pre class="knitr r">## TypeError: Attempting to change the setter of an unconfigurable property.
## TypeError: Attempting to change the setter of an unconfigurable property.
</pre></div>
</div><div class="rimage default"><img src="figure/unnamed-chunk-2-2.png" title="plot of chunk unnamed-chunk-2" alt="plot of chunk unnamed-chunk-2" class="plot" /></div></div>
  </body>
</html>
